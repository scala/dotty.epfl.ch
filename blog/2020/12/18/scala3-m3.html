<!DOCTYPE html><html data-githubContributorsUrl="https://api.github.com/repos/scala/scala3" data-githubContributorsFilename="/docs/_blog/_posts/2020-12-18-scala3-m3.md" data-pathToRoot="../../../../" data-rawLocation="blog/2020/12/18/scala3-m3" data-dynamicSideMenu="false"><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"></meta><title>Scala 3.0.0-M3: developer&apos;s preview before RC1</title><link rel="shortcut icon" type="image/x-icon" href="../../../../favicon.ico"></link><script type="text/javascript" src="../../../../scripts/theme.js"></script><script type="text/javascript" src="../../../../scripts/searchData.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/scastieConfiguration.js" defer="true"></script><link rel="stylesheet" href="../../../../styles/theme/bundle.css"></link><link rel="stylesheet" href="../../../../styles/theme/components/bundle.css"></link><link rel="stylesheet" href="../../../../styles/theme/components/button/bundle.css"></link><link rel="stylesheet" href="../../../../styles/theme/layout/bundle.css"></link><link rel="stylesheet" href="../../../../styles/nord-light.css"></link><link rel="stylesheet" href="../../../../styles/dotty-icons.css"></link><link rel="stylesheet" href="../../../../styles/filter-bar.css"></link><link rel="stylesheet" href="../../../../styles/code-snippets.css"></link><link rel="stylesheet" href="../../../../styles/searchbar.css"></link><link rel="stylesheet" href="../../../../styles/social-links.css"></link><link rel="stylesheet" href="../../../../styles/versions-dropdown.css"></link><link rel="stylesheet" href="../../../../styles/content-contributors.css"></link><link rel="stylesheet" href="../../../../styles/fontawesome.css"></link><script type="text/javascript" src="../../../../hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/ux.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/common/component.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/scaladoc-scalajs.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/contributors.js" defer="true"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><script type="text/javascript" src="https://scastie.scala-lang.org/embedded.js" defer="true"></script><script type="text/javascript" src="../../../../scripts/data.js" defer="true"></script><link rel="stylesheet" href="../../../../styles/staticsitestyles.css"></link><script>var pathToRoot = "../../../../";</script><script>var versionsDictionaryUrl = "https://scala-lang.org/api/versions.json";</script><link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" href="/css/dottydoc.css"></head><body><div id=""><div id="header" class="body-small"><div class="header-container-left"><a href="../../../../" class="logo-container"><span id="project-logo" class="project-logo"><img src="../../../../project-logo/logo.svg"></img></span><span id="dark-project-logo" class="project-logo"><img src="../../../../project-logo/logo_dark.svg"></img></span><span class="project-name h300">Scala 3</span></a><span onclick="dropdownHandler(event)" class="text-button with-arrow" id="dropdown-trigger"><a><div class="projectVersion">3.6.4-RC1-bin-20241211-7441791-NIGHTLY</div></a></span><div id="version-dropdown" class="dropdown-menu"></div></div><div class="header-container-right"><button id="search-toggle" class="icon-button"></button><a href="https://docs.scala-lang.org/" class="text-button">Learn</a><a href="https://www.scala-lang.org/download/" class="text-button">Install</a><a href="https://scastie.scala-lang.org" class="text-button">Playground</a><a href="https://index.scala-lang.org" class="text-button">Find A Library</a><a href="https://www.scala-lang.org/community/" class="text-button">Community</a><a href="https://www.scala-lang.org/blog/" class="text-button">Blog</a><span id="theme-toggle" class="icon-button"></span><span id="mobile-menu-toggle" class="icon-button hamburger"></span></div></div><div id="mobile-menu"><div class="mobile-menu-header body-small"><span class="mobile-menu-logo"><span id="project-logo" class="project-logo"><img src="../../../../project-logo/logo.svg"></img></span><span id="dark-project-logo" class="project-logo"><img src="../../../../project-logo/logo_dark.svg"></img></span><span class="project-name h300">Scala 3</span></span><button id="mobile-menu-close" class="icon-button close"></button></div><div class="mobile-menu-container body-medium"><input id="mobile-scaladoc-searchbar-input" class="scaladoc-searchbar-input" type="search" placeholder="Find anything"></input><a href="https://docs.scala-lang.org/" class="mobile-menu-item">Learn</a><a href="https://www.scala-lang.org/download/" class="mobile-menu-item">Install</a><a href="https://scastie.scala-lang.org" class="mobile-menu-item">Playground</a><a href="https://index.scala-lang.org" class="mobile-menu-item">Find A Library</a><a href="https://www.scala-lang.org/community/" class="mobile-menu-item">Community</a><a href="https://www.scala-lang.org/blog/" class="mobile-menu-item">Blog</a><span id="mobile-theme-toggle" class="mobile-menu-item mode"></span></div></div><span id="mobile-sidebar-toggle" class="floating-button"></span><div id="leftColumn" class="body-small"><div class="switcher-container"><a id="docs-nav-button" class="switcher h100 selected" href="../../../../index.html">Docs</a><a id="api-nav-button" class="switcher h100 " href="../../../../api/index.html">API</a></div><nav id="docs-nav" class="side-menu"><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/reference/index.html"><span>Reference</span></a></span><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/reference/new-types/index.html"><span>New Types</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/new-types/intersection-types.html"><span>Intersection Types</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/new-types/union-types.html"><span>Union Types</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/new-types/type-lambdas.html"><span>Type Lambdas</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/new-types/match-types.html"><span>Match Types</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/new-types/dependent-function-types.html"><span>Dependent Function Types</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/new-types/polymorphic-function-types.html"><span>Polymorphic Function Types</span></a></span></div></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/reference/enums/index.html"><span>Enums</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/enums/enums.html"><span>Enumerations</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/enums/adts.html"><span>Algebraic Data Types</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/enums/desugarEnums.html"><span>Translation of Enums and ADTs</span></a></span></div></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/reference/contextual/index.html"><span>Contextual Abstractions</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/givens.html"><span>Given Instances</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/using-clauses.html"><span>Using Clauses</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/context-bounds.html"><span>Context Bounds</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/deferred-givens.html"><span>Deferred Givens</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/given-imports.html"><span>Importing Givens</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/more-givens.html"><span>Other Forms Of Givens</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/extension-methods.html"><span>Extension Methods</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/right-associative-extension-methods.html"><span>Right-Associative Extension Methods: Details</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/type-classes.html"><span>Implementing Type classes</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/derivation.html"><span>Type Class Derivation</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/derivation-macro.html"><span>How to write a type class `derived` method using macros</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/multiversal-equality.html"><span>Multiversal Equality</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/context-functions.html"><span>Context Functions</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/conversions.html"><span>Implicit Conversions</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/by-name-context-parameters.html"><span>By-Name Context Parameters</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/contextual/relationship-implicits.html"><span>Relationship with Scala 2 Implicits</span></a></span></div></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/reference/metaprogramming/index.html"><span>Metaprogramming</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/metaprogramming/inline.html"><span>Inline</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/metaprogramming/compiletime-ops.html"><span>Compile-time operations</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/metaprogramming/macros.html"><span>Macros</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/metaprogramming/simple-smp.html"><span>The Meta-theory of Symmetric Metaprogramming</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/metaprogramming/staging.html"><span>Run-Time Multi-Stage Programming</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/metaprogramming/reflection.html"><span>Reflection</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/metaprogramming/tasty-inspect.html"><span>TASTy Inspection</span></a></span></div></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/reference/other-new-features/index.html"><span>Other New Features</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/trait-parameters.html"><span>Trait Parameters</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/transparent-traits.html"><span>Transparent Traits and Classes</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/creator-applications.html"><span>Universal Apply Methods</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/export.html"><span>Export Clauses</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/opaques.html"><span>Opaque Type Aliases</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/opaques-details.html"><span>Opaque Type Aliases: More Details</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/open-classes.html"><span>Open Classes</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/parameter-untupling.html"><span>Parameter Untupling</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/kind-polymorphism.html"><span>Kind Polymorphism</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/matchable.html"><span>The Matchable Trait</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/threadUnsafe-annotation.html"><span>The @threadUnsafe annotation</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/targetName.html"><span>The @targetName annotation</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/control-syntax.html"><span>New Control Syntax</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/indentation.html"><span>Optional Braces</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/safe-initialization.html"><span>Safe Initialization</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/type-test.html"><span>TypeTest</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/experimental-defs.html"><span>Experimental Definitions</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/other-new-features/binary-literals.html"><span>Binary Integer Literals</span></a></span></div></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/reference/changed-features/index.html"><span>Other Changed Features</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/numeric-literals.html"><span>Numeric Literals</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/structural-types.html"><span>Programmatic Structural Types</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/operators.html"><span>Rules for Operators</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/wildcards.html"><span>Wildcard Arguments in Types</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/imports.html"><span>Imports</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/type-inference.html"><span>Changes in Type Inference</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/implicit-resolution.html"><span>Changes in Implicit Resolution</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/implicit-conversions.html"><span>Implicit Conversions</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/overload-resolution.html"><span>Changes in Overload Resolution</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/match-syntax.html"><span>Match Expressions</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/vararg-splices.html"><span>Vararg Splices</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/pattern-bindings.html"><span>Pattern Bindings</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/pattern-matching.html"><span>Option-less pattern matching</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/eta-expansion.html"><span>Automatic Eta Expansion</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/compiler-plugins.html"><span>Changes in Compiler Plugins</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/lazy-vals-init.html"><span>Lazy Vals Initialization</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/main-functions.html"><span>Main Methods</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/changed-features/interpolation-escapes.html"><span>Escapes in interpolations</span></a></span></div></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/reference/dropped-features/index.html"><span>Dropped Features</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/delayed-init.html"><span>Dropped: DelayedInit</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/macros.html"><span>Dropped: Scala 2 Macros</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/existential-types.html"><span>Dropped: Existential Types</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/type-projection.html"><span>Dropped: General Type Projection</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/do-while.html"><span>Dropped: Do-While</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/procedure-syntax.html"><span>Dropped: Procedure Syntax</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/package-objects.html"><span>Dropped: Package Objects</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/early-initializers.html"><span>Dropped: Early Initializers</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/class-shadowing.html"><span>Dropped: Class Shadowing</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/limit22.html"><span>Dropped: Limit 22</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/xml.html"><span>Dropped: XML Literals</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/symlits.html"><span>Dropped: Symbol Literals</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/auto-apply.html"><span>Dropped: Auto-Application</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/weak-conformance.html"><span>Dropped: Weak Conformance</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/nonlocal-returns.html"><span>Deprecated: Nonlocal Returns</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/this-qualifier.html"><span>Dropped: private[this] and protected[this]</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/dropped-features/wildcard-init.html"><span>Dropped: Wildcard Initializer</span></a></span></div></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/reference/experimental/index.html"><span>Experimental</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/canthrow.html"><span>CanThrow Capabilities</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/erased-defs.html"><span>Erased Definitions</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/named-typeargs.html"><span>Named Type Arguments</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/numeric-literals.html"><span>Numeric Literals</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/explicit-nulls.html"><span>Explicit Nulls</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/main-annotation.html"><span>MainAnnotation</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/into-modifier.html"><span>The `into` Type Modifier</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/cc.html"><span>Capture Checking</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/purefuns.html"><span>Pure Function Syntax</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/tupled-function.html"><span>Tupled Function</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/named-tuples.html"><span>Named Tuples</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/modularity.html"><span>Modularity Improvements</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/typeclasses.html"><span>Better Support for Type Classes</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/runtimeChecked.html"><span>The runtimeChecked method</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/experimental/better-fors.html"><span>Better fors</span></a></span></div></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/reference/syntax.html"><span>Scala 3 Syntax Summary</span></a></span></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/reference/language-versions/index.html"><span>Language Versions</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/language-versions/source-compatibility.html"><span>Source Compatibility</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/reference/language-versions/binary-compatibility.html"><span>Binary Compatibility</span></a></span></div></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/reference/soft-modifier.html"><span>Soft Keywords</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/reference/features-classification.html"><span>A Classification of Proposed Language Features</span></a></span></div></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/contributing/index.html"><span>Contributing</span></a></span><div class="ni n1 "><span class="nh de"><a href="../../../../docs/contributing/getting-started.html"><span>Getting Started</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/contributing/setting-up-your-ide.html"><span>Setting up your IDE</span></a></span></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/contributing/diagnosing-your-issue/index.html"><span>Diagnosing your issue</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/diagnosing-your-issue/reproduce.html"><span>Reproducing an Issue</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/diagnosing-your-issue/cause.html"><span>Finding the Cause of an Issue</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/diagnosing-your-issue/areas.html"><span>Common Issue Locations</span></a></span></div></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/contributing/debugging-the-compiler/index.html"><span>Debugging the Compiler</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/debugging-the-compiler/ide-debugging.html"><span>Debugging with your IDE</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/debugging-the-compiler/inspection.html"><span>How to Inspect Values</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/debugging-the-compiler/other-debugging.html"><span>Other Debugging Techniques</span></a></span></div></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/contributing/testing.html"><span>Testing Your Changes</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/contributing/scaladoc.html"><span>Scaladoc</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/contributing/community-build.html"><span>Community Build</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/contributing/sending-in-a-pr.html"><span>Sending in a pull request</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/contributing/cheatsheet.html"><span>Command Cheatsheet</span></a></span></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/contributing/procedures/index.html"><span>Procedures</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/procedures/release.html"><span>Release Procedure</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/procedures/vulpix.html"><span>Test Vulpix Framework</span></a></span></div></div><div class="ni n1"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/contributing/architecture/index.html"><span>High Level Architecture</span></a></span><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/architecture/lifecycle.html"><span>Compiler Overview</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/architecture/context.html"><span>Contexts</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/architecture/phases.html"><span>Compiler Phases</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/architecture/types.html"><span>Compiler Types</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/architecture/time.html"><span>Time in the Compiler</span></a></span></div><div class="ni n2 "><span class="nh de"><a href="../../../../docs/contributing/architecture/symbols.html"><span>Symbols</span></a></span></div></div></div><div class="ni n0"><span class="nh de"><button class="ar icon-button "></button><a href="../../../../docs/internals/index.html"><span>Internals</span></a></span><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/backend.html"><span>Backend Internals</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/classpaths.html"><span>Classpaths</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/contexts.html"><span>Contexts</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/dotc-scalac.html"><span>Differences between Scalac and Dotty</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/higher-kinded-v2.html"><span>Higher-Kinded Types in Dotty</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/overall-structure.html"><span>Dotty Overall Structure</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/explicit-nulls.html"><span>Explicit Nulls</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/periods.html"><span>Dotc&apos;s concept of time</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/syntax.html"><span>Scala 3 Syntax Summary</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/type-system.html"><span>Type System</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/dotty-internals-1-notes.html"><span>Dotty Internals 1: Trees &amp; Symbols (Meeting Notes)</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/debug-macros.html"><span>Debug Macros</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/gadts.html"><span>GADTs - Broad overview</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/coverage.html"><span>Code Coverage for Scala 3</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../../docs/internals/best-effort-compilation.html"><span>Best Effort Compilation</span></a></span></div></div><div class="ni n0 expanded"><span class="nh h100 expanded cs de"><button class="ar icon-button expanded"></button><a href="../../../index.html"><span>Blog (archive)</span></a></span><div class="ni n1 "><span class="nh de"><a href="../../../2021/06/25/scala301-rc2.html"><span>Scala 3.0.1-RC2 – backports of critical bugfixes</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2021/06/07/scala3.0.1-rc1-release.html"><span>Scala 3.0.1-RC1 – further stabilising the compiler</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2021/04/21/scala3-rc3.html"><span>Scala 3.0.0-RC3 – bug fixes for 3.0.0 stable</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2021/03/31/scala3-rc2.html"><span>Scala 3.0.0-RC2 – getting ready for 3.0.0</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2021/02/17/scala3-rc1.html"><span>Scala 3.0.0-RC1 – first release candidate is here</span></a></span></div><div class="ni n1 expanded"><span class="nh h100 selected de"><a href="#"><span>Scala 3.0.0-M3: developer&apos;s preview before RC1</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../11/09/scala3-m1.html"><span>Scala 3.0.0-M1 is here</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../09/21/naming-schema-change.html"><span>Dotty becomes Scala 3</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../08/31/27th-dotty-milestone-release.html"><span>Announcing Dotty 0.27.0-RC1 - ScalaJS, performance, stability</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../07/27/26th-dotty-milestone-release.html"><span>Announcing Dotty 0.26.0-RC1 - unified extension methods and more</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../06/22/25th-dotty-milestone-release.html"><span>Announcing Dotty 0.25.0-RC2 - speed-up of givens and change in the tuple API</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../04/29/24th-dotty-milestone-release.html"><span>Announcing Dotty 0.24.0-RC1 - 2.13.2 standard library, better error messages and more</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../03/18/23rd-dotty-milestone-release.html"><span>Announcing Dotty 0.23.0-RC1 - safe initialization checks, type-level bitwise operations and more</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../02/05/22nd-dotty-milestone-release.html"><span>Announcing Dotty 0.22.0-RC1 - syntactic enhancements, type-level arithmetic and more</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2019/12/20/21th-dotty-milestone-release.html"><span>Announcing Dotty 0.21.0-RC1 - explicit nulls, new syntax for `match` and conditional givens, and more</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2019/11/04/20th-dotty-milestone-release.html"><span>Announcing Dotty 0.20.0-RC1 – `with` starting indentation blocks, inline given specializations and more</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2019/09/23/19th-dotty-milestone-release.html"><span>Announcing Dotty 0.19.0-RC1 – further refinements of the syntax and the migration to 2.13.1 standard library</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2019/08/30/18th-dotty-milestone-release.html"><span>Announcing Dotty 0.18.1-RC1 – switch to the 2.13 standard library, indentation-based syntax and other experiments</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2019/07/25/17th-dotty-milestone-release.html"><span>Announcing Dotty 0.17.0-RC1 – new implicit scoping rules and more</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2019/06/11/16th-dotty-milestone-release.html"><span>Announcing Dotty 0.16.0-RC3 – the Scala Days 2019 Release</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2019/05/23/15th-dotty-milestone-release.html"><span>Announcing Dotty 0.15.0-RC1 – the fully bootstrapped compiler</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2019/04/15/14th-dotty-milestone-release.html"><span>Announcing Dotty 0.14.0-RC1 with export, immutable arrays, creator applications and more</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2019/03/05/13th-dotty-milestone-release.html"><span>Announcing Dotty 0.13.0-RC1 with Spark support, top level definitions and redesigned implicits</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2019/01/21/12th-dotty-milestone-release.html"><span>Announcing Dotty 0.12.0-RC1</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2018/11/30/11th-dotty-milestone-release.html"><span>Announcing Dotty 0.11.0-RC1</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2018/10/10/10th-dotty-milestone-release.html"><span>Announcing Dotty 0.10.0-RC1</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2018/07/06/ninth-dotty-milestone-release.html"><span>Announcing Dotty 0.9.0-RC1</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2018/04/27/eighth-dotty-milestone-release.html"><span>Announcing Dotty 0.7.0 and 0.8.0-RC1</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2018/03/05/seventh-dotty-milestone-release.html"><span>Announcing Dotty 0.6.0 and 0.7.0-RC1</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2017/12/01/fifth-dotty-milestone-release.html"><span>Announcing Dotty 0.5.0-RC1</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2017/10/16/fourth-dotty-milestone-release.html"><span>Announcing Dotty 0.4.0-RC1</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2017/09/07/third-dotty-milestone-release.html"><span>Announcing Dotty 0.3.0-RC2</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2017/07/12/second-dotty-milestone-release.html"><span>Announcing Dotty 0.2.0-RC1, with new optimizations, improved stability and IDE support</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2017/05/31/first-dotty-milestone-release.html"><span>Announcing Dotty 0.1.2-RC1, a major step towards Scala 3</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2016/12/05/implicit-function-types.html"><span>Implicit Function Types</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2016/05/05/multiversal-equality.html"><span>Multiversal Equality for Scala</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2016/02/17/scaling-dot-soundness.html"><span>Scaling DOT to Scala - Soundness</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2016/02/03/essence-of-scala.html"><span>The Essence of Scala</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2016/01/02/new-year-resolutions.html"><span>New Year Resolutions</span></a></span></div><div class="ni n1 "><span class="nh de"><a href="../../../2015/10/23/dotty-compiler-bootstraps.html"><span>We got liftoff!</span></a></span></div></div></nav></div><div id="footer" class="body-small"><div class="left-container">Generated with</div><div class="right-container"><a href="https://github.com/scala/scala3"><button class="icon-button gh"></button></a><a href="https://discord.com/invite/scala"><button class="icon-button discord"></button></a><a href="https://twitter.com/scala_lang"><button class="icon-button twitter"></button></a><div class="text">Copyright (c) 2002-2024, LAMP/EPFL</div></div><div class="text-mobile">Copyright (c) 2002-2024, LAMP/EPFL</div></div><div id="scaladoc-searchBar"></div><div id="main"><div class="breadcrumbs container"><a href="../../../../index.html">Scala 3</a>/<a href="../../../index.html">Blog (archive)</a>/<a href="scala3-m3.html">Scala 3.0.0-M3: developer&apos;s preview before RC1</a></div><div id="content" class="body-medium"><div><div id="content-wrapper">
 <div class="site-container">
  <div id="site-header"></div>
  <main>
   <header>
    <h1>Scala 3.0.0-M3: developer's preview before RC1</h1>
    <div class="byline">
     <img id="author-img" src="../../../../images/anatolii.png">
     <div class="secondary-infos">
      <div>
       <span class="author"> <i class="fas fa-pen-nib"></i> Anatolii Kmetiuk </span>
      </div>
      <div>
       <time class="date"> <i class="far fa-calendar-alt"></i> 2020-12-18 </time>
      </div>
     </div>
    </div>
   </header>
   <p class="body-large first-p">We are happy to announce the release of Scala 3.0.0-M3. This release is the Developer's Preview release. It is intended to contain all the features meant for RC1, which is tentatively planned for January 2021. The purpose of M3 is to give the larger community, beyond early adopters, a chance to try out all the features and give us feedback before sealing them in RC1.</p>
   <p>To collect the feedback, we have designed a <a href="https://docs.google.com/forms/d/e/1FAIpQLSflVmTu9lhrtnSTh2tKAjUGrt3WvEgwlDqZg66O3EVSXd1aJg/viewform?usp=sf_link">Scala 3 Developer’s Preview satisfaction survey (3-5 min)</a> – please fill it in to express how you feel about Scala 3.</p>
   <p>During the weeks between M2 and M3, we have been tying up all the loose ends, so that everything intended for the release could be finished before ending 2020. In addition, we have used this time to review and fine-tune the language syntax. Finally, a large number of consultations with the community took place during this time.</p>
   <p>In this article, you will find the most important changes of this release compared to Scala 3.0.0-M2.</p>
   <p>To read more about all things that surround the Scala 3 release in the next months, check out the "<a href="https://www.scala-lang.org/blog/2020/12/15/scala-3-crossing-the-finish-line.html">Scala 3 - Crossing the finish line</a>" blog post on scala-lang.org</p>
   <p>You can try out the M3 version online via <a href="https://scastie.scala-lang.org/?target=dotty">Scastie</a>.</p><!--more-->
   <section id="sbt-plugin-update-3">
    <h1 class="h500"><a href="#sbt-plugin-update-3" class="anchor"></a>sbt plugin update</h1>
    <p>We published a new version of the sbt plugin <code>sbt-dotty</code>, v0.5.1. Because of the changes in PR <a href="https://github.com/scala/scala3/pull/10607">#10607</a>, this release of Scala 3 will not work with earlier versions of sbt-dotty. You will need to upgrade sbt-dotty to 0.5.1 to be able to use Scala 3.0.0-M3.</p>
   </section>
   <section id="final-syntactic-tweaks-3">
    <h1 class="h500"><a href="#final-syntactic-tweaks-3" class="anchor"></a>Final syntactic tweaks</h1>
   </section>
   <section id="as-dropped-from-the-given-syntax-3">
    <h2 class="h500"><a href="#as-dropped-from-the-given-syntax-3" class="anchor"></a><code>as</code> dropped from the <code>given</code> syntax</h2>
    <p>The following syntax is obsolete:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>given intOrd as Ordering[Int]:
</span><span line-number="2" class=""><span class="tooltip-container"></span>  ...
</span><span line-number="3" class=""><span class="tooltip-container"></span>given listOrd[T: Ordering] as Ordering[List[T]]:
</span><span line-number="4" class=""><span class="tooltip-container"></span>  ...
</span><span line-number="5" class=""><span class="tooltip-container"></span>
</span><span line-number="6" class=""><span class="tooltip-container"></span>given Ordering[Int]:
</span><span line-number="7" class=""><span class="tooltip-container"></span>  ...
</span><span line-number="8" class=""><span class="tooltip-container"></span>given [T: Ordering] as Ordering[List[T]]:
</span><span line-number="9" class=""><span class="tooltip-container"></span>  ...
</span><span line-number="10" class=""><span class="tooltip-container"></span>
</span><span line-number="11" class=""><span class="tooltip-container"></span>given global as ExecutionContext = ForkJoinContext()
</span><span line-number="12" class=""><span class="tooltip-container"></span>given Context = ctx
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>Here is how the above is expressed now:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>given intOrd: Ordering[Int] with
</span><span line-number="2" class=""><span class="tooltip-container"></span>  ...
</span><span line-number="3" class=""><span class="tooltip-container"></span>given listOrd[T: Ordering]: Ordering[List[T]] with
</span><span line-number="4" class=""><span class="tooltip-container"></span>  ...
</span><span line-number="5" class=""><span class="tooltip-container"></span>
</span><span line-number="6" class=""><span class="tooltip-container"></span>given Ordering[Int] with
</span><span line-number="7" class=""><span class="tooltip-container"></span>  ...
</span><span line-number="8" class=""><span class="tooltip-container"></span>given [T: Ordering]: Ordering[List[T]] with
</span><span line-number="9" class=""><span class="tooltip-container"></span>  ...
</span><span line-number="10" class=""><span class="tooltip-container"></span>
</span><span line-number="11" class=""><span class="tooltip-container"></span>given global: ExecutionContext = ForkJoinContext()
</span><span line-number="12" class=""><span class="tooltip-container"></span>given Context = ctx
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>You can find a discussion of the above change in the <a href="https://github.com/scala/scala3/pull/10538">PR #10538</a>.</p>
   </section>
   <section id="drop-as-in-patterns-3">
    <h2 class="h500"><a href="#drop-as-in-patterns-3" class="anchor"></a>Drop <code>as</code> in patterns</h2>
    <p>Since we dropped <code>as</code> from <code>given</code>s, we lost a strong reason for having <code>as</code> at all. Therefore, we dropped <code>as</code> from patterns as well. The following syntax, valid in Scala 3.0.0-M2, is not accepted anymore:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>case opt as Some(foo)
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>Instead, code that used it should be reverted to use the existing syntax of Scala 2, using <code>@</code>:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>case opt @ Some(foo)
</span></code></pre>
     <div class="buttons"></div>
    </div>
   </section>
   <section id="switch-back-to-the-old-context-function-closure-syntax-3">
    <h2 class="h500"><a href="#switch-back-to-the-old-context-function-closure-syntax-3" class="anchor"></a>Switch back to the old context function closure syntax</h2>
    <p>Previously, context function closures were written as follows:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>(using s: Show[String]) =&gt; s.show("foobar")
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>Now, we have reverted to the following syntax:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>(s: Show[String]) ?=&gt; s.show("foobar")
</span></code></pre>
     <div class="buttons"></div>
    </div>
   </section>
   <section id="matchable-trait--a-new-top-level-type-3">
    <h1 class="h500"><a href="#matchable-trait--a-new-top-level-type-3" class="anchor"></a><code>Matchable</code> trait – a new top-level type</h1>
    <p>Although opaque types are supposed to provide an opaque abstraction of their underlying types, it is currently too easy to break the abstraction using pattern matching:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>val imm = IArray(1,2,3) // supposedly immutable...
</span><span line-number="2" class=""><span class="tooltip-container"></span>imm match
</span><span line-number="3" class=""><span class="tooltip-container"></span>  case a: Array[Int] =&gt; a(0) = 0  // but that's shown to be lie
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>To address this change, we introduce a new trait <code>Matchable</code> near the top of the type hierarchy:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>abstract class Any:
</span><span line-number="2" class=""><span class="tooltip-container"></span>  def asInstanceOf
</span><span line-number="3" class=""><span class="tooltip-container"></span>  def ==
</span><span line-number="4" class=""><span class="tooltip-container"></span>  def !=
</span><span line-number="5" class=""><span class="tooltip-container"></span>  def ##
</span><span line-number="6" class=""><span class="tooltip-container"></span>  def equals
</span><span line-number="7" class=""><span class="tooltip-container"></span>  def hashCode
</span><span line-number="8" class=""><span class="tooltip-container"></span>  def toString
</span><span line-number="9" class=""><span class="tooltip-container"></span>
</span><span line-number="10" class=""><span class="tooltip-container"></span>trait Matchable extends Any:
</span><span line-number="11" class=""><span class="tooltip-container"></span>  def isInstanceOf
</span><span line-number="12" class=""><span class="tooltip-container"></span>  def getClass
</span><span line-number="13" class=""><span class="tooltip-container"></span>
</span><span line-number="14" class=""><span class="tooltip-container"></span>class AnyVal extends Any, Matchable
</span><span line-number="15" class=""><span class="tooltip-container"></span>
</span><span line-number="16" class=""><span class="tooltip-container"></span>class Object extends Any, Matchable
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p><code>Matchable</code> is currently a marker trait without any methods. Over time, we intend to migrate the methods <code>getClass</code> and <code>isInstanceOf</code> to it, since these are closely related to pattern-matching.</p>
    <p>In the meantime, the compiler will emit warnings when trying to call those methods, or when performing a <code>match</code>, on an value that is not a <code>Matchable</code>. For example, the above example is now flagged:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>-- Warning: i7314.scala:6:12 ---------------------------------------------------
</span><span line-number="2" class=""><span class="tooltip-container"></span>6 |    case a: Array[Int] =&gt;
</span><span line-number="3" class=""><span class="tooltip-container"></span>  |            ^^^^^^^^^^
</span><span line-number="4" class=""><span class="tooltip-container"></span>  |            pattern selector should be an instance of Matchable,
</span><span line-number="5" class=""><span class="tooltip-container"></span>  |            but it has unmatchable type opaques.IArray[Int] instead
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>Note that the warnings are only active with language mode <code>3.1-migration</code> or higher - see the documentation on the <a href="https://dotty.epfl.ch/docs/usage/language-versions.html">Language Versions</a> to learn how to enable it.</p>
    <p>You can read the discussion of this change in the <a href="https://github.com/scala/scala3/pull/10670">PR #10670</a>. You can also read more about it in the <a href="https://dotty.epfl.ch/docs/reference/other-new-features/matchable.html">documentation</a>.</p>
   </section>
   <section id="tooling-improvements-3">
    <h1 class="h500"><a href="#tooling-improvements-3" class="anchor"></a>Tooling improvements</h1>
    <p>As we are getting closer to a stable release of Scala 3, the focus increasingly shifts on the tooling available to get started with Scala 3.</p>
    <p>For a while now, we are not using the old dottydoc documentation tool for building the documentation. We are developing an entirely new tool, scala3doc, from scratch. This new documentation tool is more robust and faster than the old one.</p>
    <p>As part of the tooling effort, this new Scala 3 documentation tool is rapidly improved. <a href="https://github.com/scala/scala3/pull/10522">PR #10522</a> proves that the doctool can generate documentation for the community build projects. You can access this documentation via the following <a href="https://scala3doc.virtuslab.com/pr-master-docs/index.html">link</a>.</p>
    <p><a href="https://github.com/scala/scala3/pull/10491">PR #10491</a> introduced scripting support in Scala 3. Consider the following source named <code>Main.scala</code>:</p>
    <div class="snippet mono-small-block" scala-snippet="">
     <pre><code class="language-scala"><span line-number="1" class=""><span class="tooltip-container"></span>@main def Test(name: String): Unit =
</span><span line-number="2" class=""><span class="tooltip-container"></span>  println(s"Hello ${name}!")
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>If you have Scala 3 binaries on your path (which you can get by following the steps on the <a href="https://dotty.epfl.ch/">Dotty website</a>, in the section "Try Dotty"), you can run the following command:</p>
    <pre><code>$ scala Main.scala World
</code></pre>
    <p>This will compile the source in question to a temporary directory and run the discovered main method with the argument <code>World</code>.</p>
    <p>Note the difference from the Scala 2 scripting implementation. In Scala 2, we do not require the users to have a <code>main</code> method in their scripts due to it being too cumbersome to write. In Scala 3, thanks to the top-level definitions and the <code>@main</code> annotations, <code>main</code> methods are one-liners and hence are more suited for scripts.</p>
    <p>The documentation for this feature is available <a href="https://dotty.epfl.ch/docs/usage/getting-started.html#scala-3-for-scripting">here</a>.</p>
   </section>
   <section id="metaprogramming-changes-7">
    <h1 class="h500"><a href="#metaprogramming-changes-7" class="anchor"></a>Metaprogramming changes</h1>
    <p>We have been polishing the metaprogramming API and making it more uniform. The following notable changes occurred between M2 and M3:</p>
    <ul>
     <li>Add <code>Expr.asTerm</code> <a href="https://github.com/scala/scala3/pull/10694">#10694</a></li>
     <li>Add reflect <code>MatchCase</code> <code>TypeRepr</code> <a href="https://github.com/scala/scala3/pull/10735">#10735</a></li>
     <li>Rework reflect Symbol fields API <a href="https://github.com/scala/scala3/pull/10705">#10705</a></li>
     <li>Remove <code>Expr.StringContext.unapply</code> <a href="https://github.com/scala/scala3/pull/10675">#10675</a></li>
     <li>Rename <code>Liftable</code> to <code>ToExpr</code> and <code>Unliftable</code> to <code>FromExpr</code> <a href="https://github.com/scala/scala3/pull/10618">#10618</a></li>
     <li>Remove Unliftable[Unit] <a href="https://github.com/scala/scala3/pull/10570">#10570</a></li>
     <li>Remove reflect.LambdaType <a href="https://github.com/scala/scala3/pull/10548">#10548</a></li>
     <li>Add <code>scala.quoted.Expr.unapply</code> as dual of <code>Expr.apply</code> <a href="https://github.com/scala/scala3/pull/10580">#10580</a></li>
     <li>Move <code>Quotes</code> as last parameter in <code>ExprMap.transform</code> <a href="https://github.com/scala/scala3/pull/10519">#10519</a></li>
     <li>Rework reflect Constant API <a href="https://github.com/scala/scala3/pull/10753">#10753</a></li>
     <li>Unify quoted.report and reflect.Reporting <a href="https://github.com/scala/scala3/pull/10474">#10474</a></li>
     <li>Fix #10359: Add GivenSelector to reflection API <a href="https://github.com/scala/scala3/pull/10469">#10469</a></li>
     <li>Rework reflect show API <a href="https://github.com/scala/scala3/pull/10661">#10661</a></li>
     <li>Fix #10709: Add missing level check before inlining <a href="https://github.com/scala/scala3/pull/10781">#10781</a></li>
    </ul>
   </section>
   <section id="let-us-know-what-you-think-83">
    <h1 class="h500"><a href="#let-us-know-what-you-think-83" class="anchor"></a>Let us know what you think!</h1>
    <p>If you have questions or any sort of feedback, feel free to send us a message on our <a href="https://gitter.im/lampepfl/dotty">Gitter channel</a>. If you encounter a bug, please <a href="https://github.com/scala/scala3/issues/new">open an issue on GitHub</a>.</p>
   </section>
   <section id="contributors-28">
    <h2 class="h500"><a href="#contributors-28" class="anchor"></a>Contributors</h2>
    <p>Thank you to all the contributors who made this release possible 🎉</p>
    <p>According to <code>git shortlog -sn --no-merges 3.0.0-M2..3.0.0-M3</code> these are:</p>
    <div class="snippet mono-small-block">
     <pre><code class="language-"><span line-number="1" class=""><span class="tooltip-container"></span><span class="hideable">    </span>80  Nicolas Stucki
</span><span line-number="2" class=""><span class="tooltip-container"></span><span class="hideable">    </span>73  Martin Odersky
</span><span line-number="3" class=""><span class="tooltip-container"></span><span class="hideable">    </span>64  Krzysztof Romanowski
</span><span line-number="4" class=""><span class="tooltip-container"></span><span class="hideable">    </span>32  Liu Fengyun
</span><span line-number="5" class=""><span class="tooltip-container"></span><span class="hideable">    </span>28  Aleksander Boruch-Gruszecki
</span><span line-number="6" class=""><span class="tooltip-container"></span><span class="hideable">    </span>22  Anatolii Kmetiuk
</span><span line-number="7" class=""><span class="tooltip-container"></span><span class="hideable">    </span>17  Guillaume Martres
</span><span line-number="8" class=""><span class="tooltip-container"></span><span class="hideable">    </span>17  Sébastien Doeraene
</span><span line-number="9" class=""><span class="tooltip-container"></span><span class="hideable">    </span>14  Andrzej Ratajczak
</span><span line-number="10" class=""><span class="tooltip-container"></span><span class="hideable">    </span>13  Tom Grigg
</span><span line-number="11" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 8  Filip Zybała
</span><span line-number="12" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 7  Lan, Jian
</span><span line-number="13" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 5  Olivier Blanvillain
</span><span line-number="14" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 5  Som Snytt
</span><span line-number="15" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 5  Jamie Thompson
</span><span line-number="16" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 4  Stéphane Micheloud
</span><span line-number="17" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 4  Lionel Parreaux
</span><span line-number="18" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 3  Adrien Piquerez
</span><span line-number="19" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 3  Artur Opala
</span><span line-number="20" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 3  Hanns Holger Rutz
</span><span line-number="21" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 3  Michael Pilquist
</span><span line-number="22" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 3  Michał Pałka
</span><span line-number="23" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 3  bishabosha
</span><span line-number="24" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 2  Jonathan Brachthäuser
</span><span line-number="25" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 2  Camila Andrea Gonzalez Williamson
</span><span line-number="26" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Mikael Blomstrand
</span><span line-number="27" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Francois GORET
</span><span line-number="28" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Felix Mulder
</span><span line-number="29" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Raphael Jolly
</span><span line-number="30" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Robert Stoll
</span><span line-number="31" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Ruslan Shevchenko
</span><span line-number="32" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Seth Tisue
</span><span line-number="33" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Eugene Yokota
</span><span line-number="34" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Amadou CISSE
</span><span line-number="35" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Akhtiam Sakaev
</span><span line-number="36" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Martin Duhem
</span><span line-number="37" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Tomasz Godzik
</span><span line-number="38" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  Matthew Pickering
</span><span line-number="39" class=""><span class="tooltip-container"></span><span class="hideable">    </span> 1  odersky
</span></code></pre>
     <div class="buttons"></div>
    </div>
    <p>If you want to get your hands dirty and contribute to Scala 3, head to our <a href="https://dotty.epfl.ch/docs/contributing/getting-started.html">Getting Started page for new contributors</a> and read the docs on contributing. You are also very welcome to contact someone from our team to help you get started and see what currently we need help with.</p>
    <p>We are looking forward to having you join the team of contributors.</p>
   </section>
   <section id="library-authors-join-our-community-build-100">
    <h2 class="h500"><a href="#library-authors-join-our-community-build-100" class="anchor"></a>Library authors: Join our community build</h2>
    <p>Scala 3 is regularly tested against a sample of libraries known as the "community build". You can add your library to the <a href="https://github.com/scala/scala3/tree/main/community-build">community build</a> by submitting a PR.</p>
   </section>
  </main>
  <div class="divider"></div>
  <nav class="arrow-navigation" aria-label="Page navigation">
   <div>
    <span class="body-small">Previous</span> <a rel="prev" href="../../../2021/02/17/scala3-rc1.html" aria-keyshortcuts="Left" class="body-medium"> <span class="body-medium">Scala 3.0.0-RC1 – first release candidate is here</span> </a>
   </div>
   <div>
    <span class="body-small arrow-navigation--next">Next</span> <a rel="next" href="../../11/09/scala3-m1.html" aria-keyshortcuts="Right" class="body-medium"> <span class="body-medium">Scala 3.0.0-M1 is here</span> </a>
   </div>
  </nav>
  <div class="content-contributors hidden">
   <h1 class="h200">Contributors to this page</h1>
   <div id="documentation-contributors" class="contributors-container"></div>
   <div class="github-edit-button">
    <a class="text-button with-link body-small" href="https://github.com/scala/scala3/edit/main/docs/_blog/_posts/2020-12-18-scala3-m3.md"> Edit this page on GitHub </a>
   </div>
  </div>
 </div>
</div></div><div id="toc" class="body-small"><div id="toc-container"><span class="toc-title h200">In this article</span><nav class="toc-nav"><ul class="toc-list"><li><a href="#sbt-plugin-update-3">sbt plugin update</a></li><li><a href="#final-syntactic-tweaks-3">Final syntactic tweaks</a><ul><li><a href="#as-dropped-from-the-given-syntax-3">as dropped from the given syntax</a></li><li><a href="#drop-as-in-patterns-3">Drop as in patterns</a></li><li><a href="#switch-back-to-the-old-context-function-closure-syntax-3">Switch back to the old context function closure syntax</a></li></ul></li><li><a href="#matchable-trait--a-new-top-level-type-3">Matchable trait – a new top-level type</a></li><li><a href="#tooling-improvements-3">Tooling improvements</a></li><li><a href="#metaprogramming-changes-7">Metaprogramming changes</a></li><li><a href="#let-us-know-what-you-think-83">Let us know what you think!</a><ul><li><a href="#contributors-28">Contributors</a></li><li><a href="#library-authors-join-our-community-build-100">Library authors: Join our community build</a></li></ul></li></ul></nav></div></div></div><div id="footer" class="body-small mobile-footer"><div class="left-container">Generated with</div><div class="right-container"><a href="https://github.com/scala/scala3"><button class="icon-button gh"></button></a><a href="https://discord.com/invite/scala"><button class="icon-button discord"></button></a><a href="https://twitter.com/scala_lang"><button class="icon-button twitter"></button></a><div class="text">Copyright (c) 2002-2024, LAMP/EPFL</div></div><div class="text-mobile">Copyright (c) 2002-2024, LAMP/EPFL</div></div></div></div></body></html>